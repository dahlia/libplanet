<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Libplanet changelog | Libplanet </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Libplanet changelog | Libplanet ">
    <meta name="generator" content="docfx 2.45.1.0">
    
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc">
    <meta property="docfx:tocrel" content="toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="articles/design.html" title="Design">Design</a>
                      </li>
                      <li>
                          <a href="api/Libplanet.html" title="API Reference">API Reference</a>
                      </li>
                      <li>
                          <a href="CHANGES.html" title="Changelog">Changelog</a>
                      </li>
                      <li>
                          <a href="CONTRIBUTING.html" title="Contribute">Contribute</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="libplanet-changelog">Libplanet changelog</h1>

<h2 id="version-080">Version 0.8.0</h2>
<p>To be released.</p>
<h3 id="backward-incompatible-api-changes">Backward-incompatible API changes</h3>
<ul>
<li>Removed <code>LiteDBStore</code> class.  Use <code>DefaultStore</code> instead.  [<a href="https://github.com/planetarium/libplanet/pull/662">#662</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.Contains(TxId)</code> method.
Use <code>IStore.ContainsTransaction(TxId)</code> instead.  [<a href="https://github.com/planetarium/libplanet/pull/676">#676</a>]</li>
<li>Renamed <code>BlockChain&lt;T&gt;.Contains(HashDigest&lt;SHA256&gt;)</code> method to
<code>BlockChain&lt;T&gt;.ContainsBlock(HashDigest&lt;SHA256&gt;)</code>.  [<a href="https://github.com/planetarium/libplanet/pull/678">#678</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.Contains(Block&lt;T&gt;)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/678">#678</a>]</li>
<li>Changed semantics of <code>BlockChain&lt;T&gt;.ContainsBlock(HashDigest&lt;SHA256&gt;)</code>
method and <code>BlockChain&lt;T&gt;[HashDigest&lt;SHA256&gt;]</code> indexer as lookups only
the current chain, not entire storage.  [<a href="https://github.com/planetarium/libplanet/pull/678">#678</a>]</li>
<li>Added <code>IStore.ContainsBlock(HashDigest&lt;SHA256&gt;)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/678">#678</a>]</li>
</ul>
<h3 id="backward-incompatible-network-protocol-changes">Backward-incompatible network protocol changes</h3>
<h3 id="backward-incompatible-storage-format-changes">Backward-incompatible storage format changes</h3>
<ul>
<li>The introduced <code>DefaultStore</code> is incompatible at the file-level with
the <code>LiteDBStore</code> which had existed.  <code>DefaultStore</code> became to take
a directory instead of a single file, and it consists of multiple
subdirectories and a LiteDB file for indices.  [<a href="https://github.com/planetarium/libplanet/pull/662">#662</a>, <a href="https://github.com/planetarium/libplanet/pull/680">#680</a>]</li>
</ul>
<h3 id="added-apis">Added APIs</h3>
<ul>
<li>Added <code>DefaultStore</code> class to replace <code>LiteDBStore</code>.  [<a href="https://github.com/planetarium/libplanet/pull/662">#662</a>]</li>
</ul>
<h3 id="behavioral-changes">Behavioral changes</h3>
<ul>
<li><code>Swarm&lt;T&gt;</code> became to send 100 blocks (instead of 500 blocks) for each
reply during IDL, in order to stabilize connection in high latency
environments.  [<a href="https://github.com/planetarium/libplanet/pull/679">#679</a>]</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>Fixed a bug where the canonical chain could be deleted if <code>Swarm&lt;T&gt;</code> failed
to download blocks due to network connection.  [<a href="https://github.com/planetarium/libplanet/pull/675">#675</a>]</li>
</ul>
<h2 id="version-070">Version 0.7.0</h2>
<p>Released on November 8, 2019.</p>
<h3 id="backward-incompatible-interface-changes">Backward-incompatible interface changes</h3>
<ul>
<li>Renamed <code>minValue</code>/<code>maxValue</code> parameters to <code>lowerBound</code>/<code>upperBound</code> of
<code>IRandom.Next()</code> methods.  [<a href="https://github.com/planetarium/libplanet/issues/555">#555</a>, <a href="https://github.com/planetarium/libplanet/pull/558">#558</a>]</li>
<li>Renamed <code>IStore.IterateIndex()</code> method to <code>IterateIndexes()</code>.
[<a href="https://github.com/planetarium/libplanet/issues/462">#462</a>, <a href="https://github.com/planetarium/libplanet/pull/560">#560</a>]</li>
<li><code>Swarm&lt;T&gt;</code> class became to implement <code>IDisposable</code> again and should be
disposed to clean up its internal resources. [<a href="https://github.com/planetarium/libplanet/pull/485">#485</a>]</li>
<li><code>IStore.IterateStateReferences()</code> method became to receive
<code>highestIndex</code>, <code>lowestIndex</code>, and <code>limit</code> parameters.  [<a href="https://github.com/planetarium/libplanet/issues/447">#447</a>, <a href="https://github.com/planetarium/libplanet/pull/545">#545</a>]</li>
<li>Reworked <code>BlockChain&lt;T&gt;.GetStates()</code> into <code>GetState()</code> which takes only
one <code>Address</code> instead of <code>IEnumerable&lt;Address&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/issues/510">#510</a>, <a href="https://github.com/planetarium/libplanet/pull/563">#563</a>]</li>
<li>Types of <code>IAction.PlainValue</code> and states became restricted to
<code>Bencodex.Types.IValue</code>.  [<a href="https://github.com/planetarium/libplanet/issues/541">#541</a>, <a href="https://github.com/planetarium/libplanet/pull/552">#552</a>]
<ul>
<li><code>IAction.LoadPlainValue(IImmutableDictionary&lt;string, object&gt;)</code> method
became replaced by <code>LoadPlainValue(IValue)</code>.</li>
<li><code>AccountStateGetter</code> became to return <code>IValue</code>, not <code>object</code>.</li>
<li>Added <code>BencodexExtension</code> static class.</li>
</ul>
</li>
<li>Removed <code>BlockChain&lt;T&gt;.Blocks</code>.  [<a href="https://github.com/planetarium/libplanet/issues/409">#409</a>, <a href="https://github.com/planetarium/libplanet/pull/583">#583</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.Transactions</code>.  [<a href="https://github.com/planetarium/libplanet/issues/409">#409</a>, <a href="https://github.com/planetarium/libplanet/pull/583">#583</a>]</li>
<li>Removed the <code>linger</code> parameter from the <code>Swarm&lt;T&gt;()</code> constructor, and added
the <code>waitFor</code> parameter to <code>Swarm&lt;T&gt;.StopAsync()</code> method instead.  [<a href="https://github.com/planetarium/libplanet/pull/581">#581</a>]</li>
<li>Removed the <code>dialTimeout</code> parameter from the <code>Swarm&lt;T&gt;</code>() constructor, and
added it to <code>Swarm&lt;T&gt;.PreloadAsync()</code> &amp; <code>Swarm&lt;T&gt;.StartAsync()</code> methods.
[<a href="https://github.com/planetarium/libplanet/pull/581">#581</a>]</li>
<li>Removed <code>broadcast</code> parameter from <code>BlockChain&lt;T&gt;.MakeTransaction()</code> method.
[<a href="https://github.com/planetarium/libplanet/pull/609">#609</a>]</li>
<li><code>BlockChain&lt;T&gt;</code> does not implement <code>IReadOnlyList&lt;T&gt;</code> anymore.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]
<ul>
<li>Added <code>BlockChain&lt;T&gt;.Count</code> property.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.LongCount()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.Validate()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.GetEnumerate()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li>Removed <code>BlockPolicyExtension.ValidateBlocks()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li><code>IBlockPolicy&lt;T&gt;.GetNextBlockDifficulty()</code> method became to receive
<code>BlockChain&lt;T&gt;</code> instead of <code>IReadOnlyList&lt;Block&lt;&lt;T&gt;&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li><code>IBlockPolicy&lt;T&gt;.ValidateNextBlock()</code> method became to receive
<code>BlockChain&lt;T&gt;</code> instead of <code>IReadOnlyList&lt;Block&lt;&lt;T&gt;&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
</ul>
</li>
</ul>
<h3 id="added-interfaces">Added interfaces</h3>
<ul>
<li>Added <code>ProtectedPrivateKey</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>IncorrectPassphraseException</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>MismatchedAddressException</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>KeyJsonException</code> abstract class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>InvalidKeyJsonException</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>UnsupportedKeyJsonException</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>ICipher</code> interface.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>Aes128Ctr</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>IKdf</code> interface.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>Pbkdf2</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/577">#577</a>, <a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>Scrypt</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/642">#642</a>, <a href="https://github.com/planetarium/libplanet/pull/654">#654</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.LongCount()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/575">#575</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;[HashDigest&lt;T&gt;]</code> indexer.  [<a href="https://github.com/planetarium/libplanet/issues/409">#409</a>, <a href="https://github.com/planetarium/libplanet/pull/583">#583</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.Contains(HashDigest&lt;T&gt;)</code> method.  [<a href="https://github.com/planetarium/libplanet/issues/409">#409</a>, <a href="https://github.com/planetarium/libplanet/pull/583">#583</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.GetTransaction(TxId)</code> method.  [<a href="https://github.com/planetarium/libplanet/issues/409">#409</a>, <a href="https://github.com/planetarium/libplanet/pull/583">#583</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.Contains(TxId)</code> method.  [<a href="https://github.com/planetarium/libplanet/issues/409">#409</a>, <a href="https://github.com/planetarium/libplanet/pull/583">#583</a>]</li>
<li>Added <code>ByteUtil.Hex(ImmutableArray&lt;byte&gt;)</code> overloaded method.  [<a href="https://github.com/planetarium/libplanet/pull/614">#614</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.Contains(Block&lt;T&gt;)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/630">#630</a>]</li>
<li>Added <code>BlockDownloadState.SourcePeer</code> property.  [<a href="https://github.com/planetarium/libplanet/pull/636">#636</a>]</li>
</ul>
<h3 id="behavioral-changes-1">Behavioral changes</h3>
<ul>
<li>Changed to send <code>Pong</code> before updating the message sender to the routing
table when <code>Ping</code> is received.  [<a href="https://github.com/planetarium/libplanet/pull/566">#566</a>]</li>
<li>Improved performance of <code>StoreExtension.LookupStateReference&lt;T&gt;()</code> method.
[<a href="https://github.com/planetarium/libplanet/issues/447">#447</a>, <a href="https://github.com/planetarium/libplanet/pull/545">#545</a>]</li>
<li>Added .NET Core 2.2 as a targeted framework.  [<a href="https://github.com/planetarium/libplanet/issues/209">#209</a>, <a href="https://github.com/planetarium/libplanet/pull/561">#561</a>]</li>
<li><code>TurnClient.AcceptRelayedStreamAsync()</code> became to ignore disconnected
connections.  [<a href="https://github.com/planetarium/libplanet/pull/469">#469</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync()</code> became to ignore peers with lower tip.  [<a href="https://github.com/planetarium/libplanet/pull/592">#592</a>]</li>
<li><code>Swarm&lt;T&gt;</code> became to validate only stale peers.  [<a href="https://github.com/planetarium/libplanet/issues/568">#568</a>, <a href="https://github.com/planetarium/libplanet/pull/593">#593</a>]</li>
<li><code>Swarm&lt;T&gt;</code> became not to check cached peers immediately after
removing peers from its routing table. Instead, it checks cached peers
periodically.  [<a href="https://github.com/planetarium/libplanet/pull/608">#608</a>]</li>
<li>Marked <code>Address</code> and <code>HashDigest</code> as readonly.  [<a href="https://github.com/planetarium/libplanet/pull/610">#610</a>]</li>
<li><code>IceServer.CreateTurnClient()</code> became to throw <code>ArgumentException</code> when
received invalid url.  [<a href="https://github.com/planetarium/libplanet/pull/622">#622</a>]</li>
<li><code>Swarm&lt;T&gt;</code> became to update peer table when receiving messages that are
not related with <a href="https://en.wikipedia.org/wiki/Kademlia">Kademlia protocol</a>.  [<a href="https://github.com/planetarium/libplanet/issues/594">#594</a>, <a href="https://github.com/planetarium/libplanet/pull/627">#627</a>]</li>
<li><code>Swarm&lt;T&gt;</code> became not to check least recently used peer every time when
new peer is fetched.  [<a href="https://github.com/planetarium/libplanet/pull/627">#627</a>]</li>
<li><code>IAction</code> became guaranteed that the given
<code>IActionContext.PreviousStates.GetState()</code> never throws
<code>IncompleteBlockStatesException</code>. Instead, now it may calculate the
incomplete states from the beginning if necessary.  [<a href="https://github.com/planetarium/libplanet/pull/645">#645</a>]</li>
<li><code>IStore.PutBlock&lt;T&gt;()</code> became to do nothing when it takes
the <code>Block&lt;T&gt;</code> more than once.  [<a href="https://github.com/planetarium/libplanet/pull/647">#647</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync()</code> became to try downloading blocks from all neighbor peers,
even if any peer among them is unavailable to send blocks.  [<a href="https://github.com/planetarium/libplanet/pull/636">#636</a>]</li>
</ul>
<h3 id="bug-fixes-1">Bug fixes</h3>
<ul>
<li>Fixed a bug where <code>Swarm&lt;T&gt;</code> had tried to update a peer infinitely when
the peer is evicted from its table.  [<a href="https://github.com/planetarium/libplanet/pull/566">#566</a>]</li>
<li>Fixed a bug where <code>Swarm&lt;T&gt;.AppendBlocksAsync()</code> re-requests blocks that
already received when blockchain is empty.  [<a href="https://github.com/planetarium/libplanet/issues/550">#550</a>, <a href="https://github.com/planetarium/libplanet/pull/562">#562</a>]</li>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> had thrown <code>SocketException</code> with a message
<code>Operation on non-blocking socket would block</code>.  [<a href="https://github.com/planetarium/libplanet/issues/405">#405</a>, <a href="https://github.com/planetarium/libplanet/pull/485">#485</a>]</li>
<li>Fixed a bug that accessed all blocks from the genesis block when a swap
occurred.  [<a href="https://github.com/planetarium/libplanet/pull/575">#575</a>]</li>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> had thrown <code>InvalidBlockIndexException</code> during
synchronizing with other reorganized peer.  [<a href="https://github.com/planetarium/libplanet/issues/528">#528</a>, <a href="https://github.com/planetarium/libplanet/pull/576">#576</a>]</li>
<li>Fixed a bug where <code>Swarm&lt;T&gt;</code> does not render actions in blocks which are
filled from other peers.  [<a href="https://github.com/planetarium/libplanet/pull/579">#579</a>]</li>
<li>Fixed a bug where <code>Swarm&lt;T&gt;</code> renders actions in same block multiple times
when reorg happens.  [<a href="https://github.com/planetarium/libplanet/pull/579">#579</a>]</li>
<li><code>LiteDBStore</code> became to guarantee atomicity of storing blocks. [<a href="https://github.com/planetarium/libplanet/pull/584">#584</a>]</li>
<li>Fixed a bug that <code>BlockChain&lt;T&gt;</code> had appended a block even if fails to
evaluate.  [<a href="https://github.com/planetarium/libplanet/pull/591">#591</a>]</li>
<li>Fixed a bug where <code>Swarm&lt;T&gt;</code> hadn't removed stale peers.
[<a href="https://github.com/planetarium/libplanet/issues/568">#568</a>, <a href="https://github.com/planetarium/libplanet/pull/593">#593</a>, <a href="https://github.com/planetarium/libplanet/pull/602">#602</a>]</li>
<li>Fixed a bug that <code>TurnClient</code> had thrown <code>IOException</code> when accepting
connection through a TURN relay server. [<a href="https://github.com/planetarium/libplanet/issues/453">#453</a>, <a href="https://github.com/planetarium/libplanet/pull/599">#599</a>]</li>
<li>Fixed a bug that <code>KeyNotFoundException</code> occurred when sending a message
through the TurnClient.</li>
<li>Fixed a bug where <code>BlockChain&lt;T&gt;.GetNextTxNonce</code> only returned the same
nonce when transactions with an old nonce were staged.  [<a href="https://github.com/planetarium/libplanet/pull/637">#637</a>]</li>
<li>Fixed a bug that <code>BlockChain&lt;T&gt;</code> had reset when <code>Swarm&lt;T&gt;.PreloadAsync()</code>
fails.  [<a href="https://github.com/planetarium/libplanet/pull/644">#644</a>]</li>
<li>Fixed bug that whole processes could halt when received an invalid
type of message.  [<a href="https://github.com/planetarium/libplanet/issues/628">#628</a>, <a href="https://github.com/planetarium/libplanet/pull/641">#641</a>]</li>
<li>Fixed a bug that received blocks could not be processed if a branch point
is a stale block.  [<a href="https://github.com/planetarium/libplanet/pull/655">#655</a>]</li>
</ul>
<h2 id="version-060">Version 0.6.0</h2>
<p>Released on October 1, 2019.</p>
<h3 id="backward-incompatible-interface-changes-1">Backward-incompatible interface changes</h3>
<ul>
<li><code>BlockChain&lt;T&gt;.MineBlock()</code> is now <code>async</code> and became to throw
<code>OperationCanceledException</code> if <code>BlockChain&lt;T&gt;</code>'s tip index is changed while
mining.  [<a href="https://github.com/planetarium/libplanet/issues/460">#460</a>, <a href="https://github.com/planetarium/libplanet/pull/517">#517</a>]</li>
<li>Users became able to give a cancellation token to <code>Block&lt;T&gt;.Mine()</code> and
<code>Hashcash.Answer()</code> to cancel the operation.  [<a href="https://github.com/planetarium/libplanet/issues/460">#460</a>, <a href="https://github.com/planetarium/libplanet/pull/517">#517</a>]</li>
<li>Replaced <code>UnexpectedlyTerminatedTxRehearsalException</code> with
<code>UnexpectedlyTerminatedActionException</code>.  [<a href="https://github.com/planetarium/libplanet/pull/498">#498</a>]</li>
<li>The following methods became to throw
<code>UnexpectedlyTerminatedActionException</code> with having its <code>InnerException</code>
during actions being evaluated if any action of them throws an exception:
[<a href="https://github.com/planetarium/libplanet/pull/498">#498</a>]
<ul>
<li><code>Transaction&lt;T&gt;.EvaluateActions()</code></li>
<li><code>Transaction&lt;T&gt;.EvaluateActionsGradually()</code></li>
<li><code>Block&lt;T&gt;.EvaluateActionsPerTx()</code></li>
<li><code>Block&lt;T&gt;.Evaluate()</code></li>
<li><code>BlockChain&lt;T&gt;.GetStates(completeStates: true)</code></li>
</ul>
</li>
<li>The concept of &quot;namespaces&quot; in <code>IStore</code> was replaced by &quot;chain IDs&quot;
to be consistent with <code>BlockChain&lt;T&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/issues/483">#483</a>, <a href="https://github.com/planetarium/libplanet/pull/486">#486</a>]
<ul>
<li>Renamed <code>IStore.ListNamespaces()</code> method to <code>ListChainIds()</code>.</li>
<li>Renamed <code>IStore.DeleteNamespace()</code> method to <code>DeleteChainId()</code>.</li>
<li>Renamed <code>IStore.GetCanonicalNamespace()</code> method to
<code>GetCanonicalChainId()</code>.</li>
<li>Renamed <code>IStore.SetCanonicalNamespace(string)</code> method to
<code>SetCanonicalChainId(Guid)</code>.</li>
<li>Replaced <code>namespace</code>/<code>sourceNamespace</code>/<code>destinationNamespace</code> parameters
taking <code>string</code> of methods in <code>IStore</code> and <code>StoreExtension</code> with
<code>chainId</code>/<code>sourceChainId</code>/<code>destinationChainId</code> taking <code>Guid</code>.</li>
<li>Renamed <code>NamespaceNotFoundException</code> to <code>ChainIdNotFoundException</code>.</li>
<li>Replaced <code>NamespaceNotFoundException(string, string)</code> constructor with
<code>ChainIdNotFoundException(Guid, string)</code> constructor.</li>
<li>Replaced <code>NamespaceNotFoundException.Namespace</code> property with
<code>ChainIdNotFoundException.ChainId</code> property.</li>
</ul>
</li>
<li><code>IStore.StoreStateReference&lt;T&gt;(string, IImmutableSet&lt;Address&gt;, Block&lt;T&gt;)</code>
method became replaced by <code>StoreStateReference(Guid, IImmutableSet&lt;Address&gt;, HashDigest&lt;SHA256&gt;, long)</code> method so that it takes hash and index of
a block instead of an entire block.  [<a href="https://github.com/planetarium/libplanet/pull/420">#420</a>]</li>
<li>Added <code>IStore.ForkBlockIndexes()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/420">#420</a>]</li>
<li>Removed <code>addressesToStrip</code> parameter from <code>IStore.ForkStateReferences&lt;T&gt;()</code>
method.  [<a href="https://github.com/planetarium/libplanet/issues/454">#454</a>, <a href="https://github.com/planetarium/libplanet/pull/467">#467</a>, <a href="https://github.com/planetarium/libplanet/issues/509">#509</a>, <a href="https://github.com/planetarium/libplanet/pull/522">#522</a>]</li>
<li>Removed the concept of &quot;staged transactions that should not be broadcasted,&quot;
because its primary usage had been to make a transaction of a reward action
for a candidate for block miner, and the case became achieved through
<code>IBlockPolicy&lt;T&gt;.BlockAction</code> property which was introduced at 0.5.0.
All staged transactions became broadcasted.  [<a href="https://github.com/planetarium/libplanet/issues/319">#319</a>, <a href="https://github.com/planetarium/libplanet/pull/470">#470</a>]
<ul>
<li><code>BlockChain&lt;T&gt;.StageTransactions(IDictionary&lt;Transaction&lt;T&gt;, bool&gt;)</code>
method became replaced by
<code>StageTransactions(IImmutableSet&lt;Transaction&lt;T&gt;&gt;)</code>.</li>
<li>Removed <code>toBroadcast</code> parameter from
<code>IStore.IterateStagedTransactionIds(bool)</code> method.</li>
<li><code>IStore.StageTransactionIds(IDictionary&lt;TxId, bool&gt;)</code> method became
replaced by <code>StageTransactionIds(IImmutableSet&lt;TxId&gt;()</code>.</li>
</ul>
</li>
<li>Removed <code>Swarm&lt;T&gt;.AddPeersAsync()</code> method. To connect with seed peers, use
<code>Swarm&lt;T&gt;.BootstrapAsync()</code> method instead.  [<a href="https://github.com/planetarium/libplanet/pull/353">#353</a>]</li>
<li><code>Peer</code> with endpoints should be typed as <code>BoundPeer</code> which is inherited from
<code>Peer</code>.  [<a href="https://github.com/planetarium/libplanet/pull/353">#353</a>]</li>
<li>Removed <code>IActionContext.NewGuid()</code> method. To get a randomly generated
<a href="https://docs.microsoft.com/ko-kr/dotnet/api/system.guid?view=netframework-4.8">Guid</a>, use <code>RandomExtension.GenerateRandomGuid()</code> which implements
<a href="https://tools.ietf.org/html/rfc4122">RFC 4122</a> instead. [<a href="https://github.com/planetarium/libplanet/pull/508">#508</a>]</li>
</ul>
<h3 id="added-interfaces-1">Added interfaces</h3>
<ul>
<li>Added <code>BlockChain&lt;T&gt;.TipChanged</code> event which is invoked with an argument
of <code>BlockChain&lt;T&gt;.TipChangedEventArgs</code> when <code>BlockChain&lt;T&gt;.Tip</code> is changed.
[<a href="https://github.com/planetarium/libplanet/pull/517">#517</a>, <a href="https://github.com/planetarium/libplanet/pull/526">#526</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.TipChangedEventArgs</code> class.  [<a href="https://github.com/planetarium/libplanet/pull/526">#526</a>]</li>
<li>Added <code>Swarm&lt;T&gt;.BootstrapAsync()</code> method to connect with seed peers.
[<a href="https://github.com/planetarium/libplanet/pull/353">#353</a>]</li>
<li>Added <code>RandomExtension</code> static class. [<a href="https://github.com/planetarium/libplanet/pull/508">#508</a>]</li>
<li><code>TxId</code> class became to implement <code>IComparable&lt;TxId&gt;</code> and
<code>IComparable</code> interfaces.  [<a href="https://github.com/planetarium/libplanet/issues/244">#244</a>, <a href="https://github.com/planetarium/libplanet/pull/511">#511</a>]</li>
</ul>
<h3 id="behavioral-changes-2">Behavioral changes</h3>
<ul>
<li><code>Swarm&lt;T&gt;</code> now broadcasts transactions as soon as new transactions are
received.  [<a href="https://github.com/planetarium/libplanet/issues/463">#463</a>, <a href="https://github.com/planetarium/libplanet/pull/496">#496</a>]</li>
<li><code>Swarm&lt;T&gt;</code> now ignores block hashes which already exists.  [<a href="https://github.com/planetarium/libplanet/issues/461">#461</a>, <a href="https://github.com/planetarium/libplanet/pull/484">#484</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync()</code> method became to download precalculated states
of blocks from a likely branchpoint instead of a genesis block from
a trusted peer (i.e., <code>trustedStateValidators</code>) where there are branches
between peers.  [<a href="https://github.com/planetarium/libplanet/issues/465">#465</a>, <a href="https://github.com/planetarium/libplanet/pull/481">#481</a>]</li>
<li><code>Swarm&lt;T&gt;</code>'s internal <code>GetRecentStates</code> message became to take
<code>BlockLocator</code>, an internal data type to approximates a path of
a chain of blocks for heuristics to search a likely branchpoint,
instead of <code>HashDigest&lt;SHA256&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/issues/465">#465</a>, <a href="https://github.com/planetarium/libplanet/pull/481">#481</a>]</li>
<li>NetMQ instances are now initialized at <code>Swarm&lt;T&gt;.StartAsync()</code> instead of
<code>Swarm&lt;T&gt;()</code>.  [<a href="https://github.com/planetarium/libplanet/pull/353">#353</a>]</li>
<li>Peers now connected via <a href="https://en.wikipedia.org/wiki/Kademlia">Kademlia protocol</a>.
Peers are now selectively connected to each peer.  [<a href="https://github.com/planetarium/libplanet/pull/353">#353</a>]</li>
<li><code>TxId</code>s and <code>Block</code>s are now broadcasted to selected peers from routing
table of the host peer.  [<a href="https://github.com/planetarium/libplanet/pull/353">#353</a>]</li>
<li><code>PolymorphicAction&lt;T&gt;.ToString()</code> method became to show the runtime type of
its <code>InnerAction</code> for the sake of easier debugging.  [<a href="https://github.com/planetarium/libplanet/pull/512">#512</a>]</li>
<li>The order of <code>Block&lt;T&gt;.Transactions</code> became to be determined by
both a <code>Block&lt;T&gt;.Hash</code> and a <code>Transaction&lt;T&gt;.Id</code>, so that signers cannot
predict the order of transactions in a block before it's mined.
If there are multiple transactions signed by the same signer in a block
these transactions become grouped together and the order is determined by
a <code>Block&lt;T&gt;.Hash</code> and a fingerprint derived from all these transactions,
and transactions in each group (per signer) are ordered by
<code>Transaction&lt;T&gt;.Nonce</code>.  [<a href="https://github.com/planetarium/libplanet/issues/244">#244</a>, <a href="https://github.com/planetarium/libplanet/pull/355">#355</a>, <a href="https://github.com/planetarium/libplanet/pull/511">#511</a>, <a href="https://github.com/planetarium/libplanet/pull/520">#520</a>]</li>
<li><code>LiteDBStore()</code> became to create the database in memory if the <code>path</code>
parameter is <code>null</code>.  [<a href="https://github.com/planetarium/libplanet/pull/521">#521</a>]</li>
</ul>
<h3 id="bug-fixes-2">Bug fixes</h3>
<ul>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> hadn't released its TURN related resources on
<code>Swarm&lt;T&gt;.StopAsync()</code>.  [<a href="https://github.com/planetarium/libplanet/pull/450">#450</a>]</li>
<li>Fixed a bug that <code>IActionContext.Random</code> had been possible to generated
equivalent results between actions of different transactions in
a <code>Block&lt;T&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/519">#519</a>]</li>
<li>Fixed a bug where a forked chain would not be deleted when an exception
occurred during fetching block from other peers.  [<a href="https://github.com/planetarium/libplanet/issues/527">#527</a>, <a href="https://github.com/planetarium/libplanet/pull/537">#537</a>, <a href="https://github.com/planetarium/libplanet/pull/540">#540</a>]</li>
</ul>
<h2 id="version-053">Version 0.5.3</h2>
<p>Released on September 9, 2019.</p>
<h3 id="bug-fixes-3">Bug fixes</h3>
<ul>
<li>Fix bug where <code>IAccountStateDelta.GetState()</code> hadn't returned proper state
when the block action is evaluated.  [<a href="https://github.com/planetarium/libplanet/pull/500">#500</a>]</li>
</ul>
<h2 id="version-052">Version 0.5.2</h2>
<p>Released on August 29, 2019.</p>
<h3 id="bug-fixes-4">Bug fixes</h3>
<ul>
<li>Fixed a bug that <code>Swarm&lt;T&gt;.PreloadAsync()</code> method had thrown <code>LiteException</code>
(or other exception depending on <code>IStore</code>), which indicates a state
reference is duplicate, where <code>trustedStateValidators</code> is present and
a miner tries to download precalculated states from a trusted peer.
[<a href="https://github.com/planetarium/libplanet/issues/465">#465</a>, <a href="https://github.com/planetarium/libplanet/pull/474">#474</a>]</li>
<li>Fixed a bug tag <code>Swarm&lt;T&gt;.StartAsync()</code> sometimes had thrown an exception
from <code>IStore</code> (e.g., <code>NullReferenceException</code>) during broadcasting
transactions.  [<a href="https://github.com/planetarium/libplanet/issues/352">#352</a>, <a href="https://github.com/planetarium/libplanet/pull/476">#476</a>]</li>
</ul>
<h2 id="version-051">Version 0.5.1</h2>
<p>Released on August 28, 2019.</p>
<h3 id="bug-fixes-5">Bug fixes</h3>
<ul>
<li>Fixed a bug that <code>ArgumentNullException</code> had been thrown when a blockchain,
which consists of incomplete states (i.e., precalculated states downloaded
from trusted peers), encounters a new branch so that reorg is made.
[<a href="https://github.com/planetarium/libplanet/issues/454">#454</a>, <a href="https://github.com/planetarium/libplanet/pull/466">#466</a>]</li>
<li>Fixed a bug that unnecessarily received all blocks in multiple miner
situations.  [<a href="https://github.com/planetarium/libplanet/issues/457">#457</a>, <a href="https://github.com/planetarium/libplanet/pull/468">#468</a>]</li>
</ul>
<h2 id="version-050">Version 0.5.0</h2>
<p>Released on August 22, 2019.</p>
<h3 id="backward-incompatible-interface-changes-2">Backward-incompatible interface changes</h3>
<ul>
<li>Added <code>IStore.GetBlockIndex()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/385">#385</a>]</li>
<li><code>StoreExtension.LookupStateReference&lt;T&gt;()</code> method became to return
<code>Tuple&lt;HashDigest&lt;SHA256&gt;, long&gt;</code> which is a nullable tuple of
<code>Block&lt;T&gt;.Hash</code> and <code>Block&lt;T&gt;.Index</code>.  [<a href="https://github.com/planetarium/libplanet/pull/350">#350</a>]</li>
<li>Added <code>IBlockPolicy&lt;T&gt;.BlockAction</code> property.  [<a href="https://github.com/planetarium/libplanet/issues/319">#319</a>, <a href="https://github.com/planetarium/libplanet/pull/367">#367</a>]</li>
<li>Removed the type parameter of <code>ActionEvaluation</code>.  [<a href="https://github.com/planetarium/libplanet/issues/319">#319</a>, <a href="https://github.com/planetarium/libplanet/pull/367">#367</a>]</li>
<li><code>ActionEvaluation.Action</code> became to <code>IAction</code> type.  [<a href="https://github.com/planetarium/libplanet/issues/319">#319</a>, <a href="https://github.com/planetarium/libplanet/pull/367">#367</a>]</li>
<li><code>LiteDBStore()</code> constructor became to have a new option named <code>flush</code> and
turned on by default.  [<a href="https://github.com/planetarium/libplanet/pull/387">#387</a>, <a href="https://github.com/mbdavid/LiteDB/issues/1268">LiteDB #1268</a>]</li>
<li><code>LiteDBStore()</code> constructor became to have a new option named <code>readOnly</code> and
turned off by default.  [<a href="https://github.com/planetarium/libplanet/pull/434">#434</a>]</li>
<li><code>BaseIndex.ContainsKey()</code> method became <code>abstract</code>.  [<a href="https://github.com/planetarium/libplanet/pull/390">#390</a>]</li>
<li><code>BlockDownloadState.TotalBlockCount</code> and
<code>BlockDownloadState.ReceivedBlockCount</code> became to <code>Int64</code> type.
[<a href="https://github.com/planetarium/libplanet/issues/396">#396</a>, <a href="https://github.com/planetarium/libplanet/pull/399">#399</a>]</li>
<li><code>IStore.IterateIndex()</code> method became to receive <code>offset</code> and <code>limit</code>
parameters.  [[#425]]</li>
<li>Added <code>IStore.GetCanonicalNamespace()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/426">#426</a>]</li>
<li>Added <code>IStore.SetCanonicalNamespace()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/426">#426</a>]</li>
<li>Removed <code>IRandom.NextDouble()</code> method, because <a href="https://wp.me/p1fTCO-kT">floating-point arithmetics,
which is underspecified, likely introduce
indeterminism</a>.  [<a href="https://github.com/planetarium/libplanet/issues/410">#410</a>, <a href="https://github.com/planetarium/libplanet/pull/419">#419</a>]</li>
<li>Added <code>IActionContext.NewGuId()</code> method.  [<a href="https://github.com/planetarium/libplanet/issues/371">#371</a>, <a href="https://github.com/planetarium/libplanet/pull/439">#439</a>]</li>
<li><code>Address(byte[])</code> became to throw <code>ArgumentNullException</code>
instead of <code>NullReferenceException</code>.  [<a href="https://github.com/planetarium/libplanet/pull/443">#443</a>]</li>
<li>Removed <code>FileStore</code> class.  [<a href="https://github.com/planetarium/libplanet/pull/446">#446</a>]</li>
</ul>
<h3 id="added-interfaces-2">Added interfaces</h3>
<ul>
<li>Added <code>trustedStateValidators</code> option to <code>Swarm&lt;T&gt;.PreloadAsync()</code> method.
If any peer in this set is reachable and there is no built up blockchain
in a current node, <code>Swarm&lt;T&gt;</code> receives the latest states of the major
blockchain from that trusted peer, which is also calculated by that peer,
instead of autonomously calculating the states from scratch.
Note that this option is intended to be exposed to end users through
a feasible user interface so that they can decide whom to trust
for themselves.
[<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/343">#343</a>]</li>
<li>Added <code>StoreExtension.ListAllStateReferences(this IStore, string, HashDigest&lt;SHA256&gt;?, HashDigest&lt;SHA256&gt;?)</code> extension method.
[<a href="https://github.com/planetarium/libplanet/pull/363">#363</a>, <a href="https://github.com/planetarium/libplanet/issues/384">#384</a>, <a href="https://github.com/planetarium/libplanet/pull/385">#385</a>]</li>
<li><code>Address</code> class became to implement <code>IComparable&lt;Address&gt;</code> and
<code>IComparable</code> interfaces.  [<a href="https://github.com/planetarium/libplanet/pull/363">#363</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.BlockHashes</code> property.  [<a href="https://github.com/planetarium/libplanet/pull/389">#389</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync(IProgress&lt;PreloadState&gt;, IImmutableSet&lt;Address&gt;, CancellationToken)</code> became to report progress for all phases.
[<a href="https://github.com/planetarium/libplanet/issues/397">#397</a>, <a href="https://github.com/planetarium/libplanet/pull/400">#400</a>]</li>
<li>Added <code>PreloadState</code>, <code>ActionExecutionState</code>, <code>StateReferenceDownloadState</code>,
and <code>BlockStateDownloadState</code> classes to cover all phases in the entire
preloading process.  [<a href="https://github.com/planetarium/libplanet/issues/397">#397</a>, <a href="https://github.com/planetarium/libplanet/pull/400">#400</a>]</li>
<li>Added <code>Address(ImmutableArray&lt;byte&gt;)</code> constructor.  [<a href="https://github.com/planetarium/libplanet/issues/442">#442</a>, <a href="https://github.com/planetarium/libplanet/pull/443">#443</a>]</li>
</ul>
<h3 id="behavioral-changes-3">Behavioral changes</h3>
<ul>
<li><code>BlockChain&lt;T&gt;.PreloadAsync()</code> method became to omit rendering of
<code>IAction</code>s in the preloaded behind blocks.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/343">#343</a>]</li>
<li><code>Swarm&lt;T&gt;</code> became to have two more message types: <code>GetRecentStates</code> (<code>0x0b</code>)
and <code>RecentStates</code> (<code>0x0c</code>).  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/343">#343</a>]</li>
<li><code>BlockChain&lt;T&gt;.MineBlock()</code> and <code>BlockChain&lt;T&gt;.GetNextTxNonce()</code> methods
became to ignore transactions that didn't follow <code>Transaction&lt;T&gt;.Nonce</code>
sequentially and treat them as pendings.  [<a href="https://github.com/planetarium/libplanet/pull/365">#365</a>]</li>
<li><code>BlockChain&lt;T&gt;</code> became to evaluate <code>IBlockPolicy&lt;T&gt;.BlockAction</code> and set the
state when a block is appended to the chain.  [<a href="https://github.com/planetarium/libplanet/issues/319">#319</a>, <a href="https://github.com/planetarium/libplanet/pull/367">#367</a>]</li>
<li><code>BlockSet&lt;T&gt;.ContainsKey()</code> and <code>TransactionSet&lt;T&gt;.ContainsKey()</code> methods
became O(1) time complexity through omitting iteration and relying
own retrieve implementations.  [<a href="https://github.com/planetarium/libplanet/pull/390">#390</a>]</li>
<li>The way <code>LiteDBStore</code> stores state references became efficient,
but the file-level backward compatibility was also broken.  [<a href="https://github.com/planetarium/libplanet/issues/395">#395</a>, <a href="https://github.com/planetarium/libplanet/pull/398">#398</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync()</code> method became to report a block downloading
progress with the total number of blocks to download in the entire batch,
instead of the window size of a chunk (i.e., 500).  [<a href="https://github.com/planetarium/libplanet/issues/396">#396</a>, <a href="https://github.com/planetarium/libplanet/pull/399">#399</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync()</code> became to get the first parameter, <code>progress</code>,
which accepts <code>IProgress&lt;PreloadState&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/issues/397">#397</a>, <a href="https://github.com/planetarium/libplanet/pull/400">#400</a>]</li>
<li><code>BlockHashes</code> messages became to contain one more higher hash.
[<a href="https://github.com/planetarium/libplanet/issues/408">#408</a>, <a href="https://github.com/planetarium/libplanet/pull/445">#445</a>]</li>
<li><code>Swarm&lt;T&gt;.PreloadAsync()</code> became safe from data corruption even
if a preloading process suddenly gets shutdown.  [<a href="https://github.com/planetarium/libplanet/pull/417">#417</a>]</li>
<li><code>FileStore</code> and <code>LiteDBStore</code> became to guarantee atomicity of storing
transactions. [<a href="https://github.com/planetarium/libplanet/pull/413">#413</a>]</li>
<li><code>IStore.PutTransaction&lt;T&gt;()</code> became to do nothing when it takes
the <code>Transaction&lt;T&gt;</code> more than once.  [<a href="https://github.com/planetarium/libplanet/pull/413">#413</a>]</li>
<li><code>BlockChain&lt;T&gt;.Swap()</code> became to omit common block finding when <code>render</code> is
<code>false</code>.  [<a href="https://github.com/planetarium/libplanet/pull/423">#423</a>]</li>
<li><code>PrivateKey(byte[])</code> constructor became to check validity.  [<a href="https://github.com/planetarium/libplanet/pull/438">#438</a>]</li>
</ul>
<h3 id="bug-fixes-6">Bug fixes</h3>
<ul>
<li>Fixed a bug where the <code>LiteDBStore.IterateStagedTransactionIds()</code> returns
duplicated transaction ids.  [<a href="https://github.com/planetarium/libplanet/pull/366">#366</a>]</li>
<li>Fixed a bug that <code>NullReferenceException</code> occurred when serializing default
<code>Address</code>.  [<a href="https://github.com/planetarium/libplanet/pull/369">#369</a>]</li>
<li>Removed unnecessary mutex in <code>Swarm&lt;T&gt;</code> to avoid continuous delays in peer
registration in some situations.  [<a href="https://github.com/planetarium/libplanet/pull/375">#375</a>]</li>
<li>Fixed a bug that <code>TurnClient</code> had thrown <code>KeyNotFoundException</code> and
<code>IOException</code> on startup.  [<a href="https://github.com/planetarium/libplanet/issues/377">#377</a>, <a href="https://github.com/planetarium/libplanet/pull/378">#378</a>]</li>
<li>Fixed a <code>LiteDBStore</code> bug that blocks or transactions had got corrupted
sometimes.  Instead, <code>LiteDBStore.GetTransaction()</code> became possible to
return <code>null</code> even for already stored transactions, and for that case,
a warning will be logged through Serilog.
[<a href="https://github.com/planetarium/libplanet/pull/386">#386</a>, <a href="https://github.com/planetarium/libplanet/pull/387">#387</a>, <a href="https://github.com/mbdavid/LiteDB/issues/1268">LiteDB #1268</a>]</li>
<li>Fixed a bug that <code>NetworkStreamProxy.StartAsync()</code> hadn't stopped properly
when the connection had reset by a remote peer.  [<a href="https://github.com/planetarium/libplanet/pull/414">#414</a>]</li>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> had hung forever after a remote peer had
disconnected while receiving.  [<a href="https://github.com/planetarium/libplanet/pull/416">#416</a>]</li>
<li>Fixed a bug that <code>Swarm&lt;T&gt;.PreloadAsync()</code> had been processed even if there
is no appropriate peer. [<a href="https://github.com/planetarium/libplanet/pull/418">#418</a>]</li>
<li>Fixed a bug that TURN-related tasks hadn't restarted automatically when an
exception occurred.  [<a href="https://github.com/planetarium/libplanet/pull/422">#422</a>]</li>
<li>Fixed a bug that TURN relay connection had disconnected when preloading
took a long time.  [<a href="https://github.com/planetarium/libplanet/pull/424">#424</a>]</li>
</ul>
<h2 id="version-041">Version 0.4.1</h2>
<p>Released on July 11, 2019.</p>
<h3 id="bug-fixes-7">Bug fixes</h3>
<ul>
<li>Fixed a bug where the <code>BlockChain&lt;T&gt;.GetStates()</code> method had not returned
the latest state when there are multiple addresses.  [<a href="https://github.com/planetarium/libplanet/pull/346">#346</a>]</li>
</ul>
<h2 id="version-040">Version 0.4.0</h2>
<p>Released on July 8, 2019.</p>
<h3 id="backward-incompatible-interface-changes-3">Backward-incompatible interface changes</h3>
<ul>
<li><code>Peer.AppProtocolVersion</code> became nullable to represent <code>Peer</code> whose version
is unknown.  [<a href="https://github.com/planetarium/libplanet/pull/280">#280</a>]</li>
<li>Added <code>IStore.ListAddresses()</code> method.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/285">#285</a>]</li>
<li>Added <code>IStore.ListTxNonces()</code> method. [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/issues/309">#309</a>, <a href="https://github.com/planetarium/libplanet/pull/310">#310</a>]</li>
<li>Removed <code>BlockChain&lt;T&gt;.GetNonce()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/294">#294</a>]</li>
<li><code>BlockChain&lt;T&gt;.StageTransactions</code> became to receive
<code>IDictionary&lt;Transaction&lt;T&gt;, bool&gt;</code> instead of <code>ISet&lt;Transaction&lt;T&gt;&gt;</code>.
[<a href="https://github.com/planetarium/libplanet/issues/274">#274</a>, <a href="https://github.com/planetarium/libplanet/pull/297">#297</a>]</li>
<li><code>IStore.StageTransactionIds()</code> method became to receive
<code>IDictionary&lt;TxId, bool&gt;</code> instead of <code>ISet&lt;TxId&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/issues/274">#274</a>, <a href="https://github.com/planetarium/libplanet/pull/297">#297</a>]</li>
<li><code>IStore.IterateStagedTransactionIds()</code> method became to receive
<code>bool toBroadcast</code> which is whether to iterate only the TxId set to
broadcast.  [<a href="https://github.com/planetarium/libplanet/issues/274">#274</a>, <a href="https://github.com/planetarium/libplanet/pull/297">#297</a>]</li>
<li><code>Swarm&lt;T&gt;.StartAsync()</code> method became to receive <code>broadcastTxInterval</code>
(or <code>millisecondsBroadcastTxInterval</code>) parameter.  [<a href="https://github.com/planetarium/libplanet/issues/274">#274</a>, <a href="https://github.com/planetarium/libplanet/pull/297">#297</a>]</li>
<li><code>IStore</code> became to treat a &quot;tx nonce&quot; mere a <code>long</code> integer instead of
a stack of block hashes.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/307">#307</a>, <a href="https://github.com/planetarium/libplanet/issues/309">#309</a>, <a href="https://github.com/planetarium/libplanet/pull/310">#310</a>]
<ul>
<li><code>IStore.IncreaseTxNonce&lt;T&gt;(string, Block&lt;T&gt;)</code> method was replaced by
<code>IStore.IncreaseTxNonce(string, Address, long)</code> method.</li>
<li>Removed <code>IStore.ForkTxNonce()</code> method.</li>
<li><code>FileStore</code> became to occupy fewer bytes for storing tx nonces.
This change broke file-level backward compatibility.</li>
</ul>
</li>
<li><code>IStore</code> became possible to look up multiple state references in a stack.
[<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/307">#307</a>]
<ul>
<li>Removed <code>IStore.LookupStateReference&lt;T&gt;()</code> method.
Instead, a newly added static class <code>StoreExtension</code> provides
an extension method of the same name.</li>
<li>Added <code>IStore.IterateStateReferences()</code> method.</li>
</ul>
</li>
<li><code>Swarm</code> became to have type parameter <code>T</code> to represent an action type as
like as <code>BlockChain&lt;T&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/324">#324</a>]</li>
<li><code>Swarm&lt;T&gt;</code> constructor became to receive <code>BlockChain&lt;T&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/324">#324</a>]</li>
<li>Methods  in <code>Swarm&lt;T&gt;</code> that had taken a parameter of <code>BlockChain&lt;T&gt;</code> type
became to neither longer take <code>BlockChain&lt;T&gt;</code> nor a generic method.
Because the <code>Swarm&lt;T&gt;</code> constructor takes it instead.  [<a href="https://github.com/planetarium/libplanet/pull/324">#324</a>]</li>
<li><code>Swarm&lt;T&gt;</code> does not implement <code>ICollection&lt;Peer&gt;</code> anymore.  [<a href="https://github.com/planetarium/libplanet/pull/326">#326</a>]</li>
<li>Added <code>IStore.DeleteNamespace()</code> method. [<a href="https://github.com/planetarium/libplanet/pull/329">#329</a>]</li>
<li>Removed the <code>id</code> parameter from the <code>BlockChain&lt;T&gt;</code> constructor, and it
became to automatically detect an appropriate <code>BlockChain&lt;T&gt;.Id</code>.
[<a href="https://github.com/planetarium/libplanet/issues/279">#279</a>, <a href="https://github.com/planetarium/libplanet/pull/332">#332</a>]</li>
</ul>
<h3 id="added-interfaces-3">Added interfaces</h3>
<ul>
<li>Added <code>LiteDBStore</code> backend that uses <a href="https://www.litedb.org/">LiteDB</a> under the hood.  [<a href="https://github.com/planetarium/libplanet/pull/269">#269</a>]</li>
<li>All <code>*Async()</code> methods belonging to <code>TurnClient</code> class became to have
<code>cancellationToken</code> option.  [<a href="https://github.com/planetarium/libplanet/pull/287">#287</a>]</li>
<li>Added a <code>Peer</code> constructor omitting <code>appProtocolVersion</code> parameter
to create a <code>Peer</code> whose version is unknown.  [<a href="https://github.com/planetarium/libplanet/pull/280">#280</a>]</li>
<li>Added <code>IncompleteBlockStatesException</code> class.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/285">#285</a>]</li>
<li>Added <code>completeStates</code> option to <code>BlockChain&lt;T&gt;.GetStates()</code> method.
[<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/285">#285</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.MakeTransaction(PrivateKey, IEnumerable&lt;T&gt;, IImmutableSet&lt;Address&gt;, DateTimeOffset?)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/294">#294</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.GetNextTxNonce()</code> method which counts staged
transactions too during nonce computation.  [<a href="https://github.com/planetarium/libplanet/pull/270">#270</a>, <a href="https://github.com/planetarium/libplanet/pull/294">#294</a>]</li>
<li>Added <code>StoreExtension</code> static class.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/307">#307</a>]</li>
<li>Added <code>Swarm&lt;T&gt;.BlockChain</code> property.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/343">#343</a>]</li>
</ul>
<h3 id="behavioral-changes-4">Behavioral changes</h3>
<ul>
<li><code>BlockChain&lt;T&gt;.GetStates()</code> method became to throw
<code>IncompleteBlockStatesException</code> if its <code>Store</code> lacks the states of a block
that a requested address lastly updated.  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/285">#285</a>]</li>
<li>A message <code>Swarm&lt;T&gt;</code> makes became to have multiple blocks within it, which
means round trips on the network are now much reduced.  [<a href="https://github.com/planetarium/libplanet/issues/273">#273</a>, <a href="https://github.com/planetarium/libplanet/pull/276">#276</a>]</li>
<li><code>Message.Block</code> has been replaced by <code>Message.Blocks</code> and the magic number
has been changed to <code>0x0a</code>.  [<a href="https://github.com/planetarium/libplanet/pull/276">#276</a>]</li>
<li>Improved performance of <code>Swarm&lt;T&gt;</code>'s response time to <code>GetBlockHashes</code>
request messages.  [<a href="https://github.com/planetarium/libplanet/pull/277">#277</a>]</li>
<li>Added IPv6 support to <code>Libplanet.Stun.StunAddress</code>. [<a href="https://github.com/planetarium/libplanet/issues/267">#267</a>, <a href="https://github.com/planetarium/libplanet/pull/271">#271</a>]</li>
<li><code>IStore.GetBlockStates()</code> became able to return <code>null</code> to represent
an absence of states (i.e., incomplete states).  [<a href="https://github.com/planetarium/libplanet/issues/272">#272</a>, <a href="https://github.com/planetarium/libplanet/pull/285">#285</a>]</li>
<li><code>Swarm&lt;T&gt;</code> became to broadcast staged <code>Transaction</code>s periodically
so that game apps no more need to maintain their own thread to
broadcast staged transactions.  [<a href="https://github.com/planetarium/libplanet/issues/274">#274</a>, <a href="https://github.com/planetarium/libplanet/pull/297">#297</a>]</li>
<li>Previously, <code>Swarm&lt;T&gt;</code> had sent an empty <code>GetTxs</code> message when it receives
an empty <code>TxIds</code> from peers, and it had made the network waste bandwidth for
unnecessary messages.  <code>Swam&lt;T&gt;</code> became to no more send such empty <code>GetTxs</code>.
[<a href="https://github.com/planetarium/libplanet/pull/297">#297</a>]</li>
<li><code>BlockChain&lt;T&gt;.Swap()</code> became to delete an index, tx nonces, and state
references in the replaced chain. [<a href="https://github.com/planetarium/libplanet/pull/329">#329</a>]</li>
<li>Reduced the memory footprint of <code>BlockChain&lt;T&gt;.FindBranchPoint()</code> method
under the circumstances that the height of
the <code>BlockChain&lt;T&gt;</code> object is high.  [<a href="https://github.com/planetarium/libplanet/issues/282">#282</a>, <a href="https://github.com/planetarium/libplanet/pull/299">#299</a>]</li>
</ul>
<h3 id="bug-fixes-8">Bug fixes</h3>
<ul>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> reported <code>TaskCanceledException</code> as an unknown
exception while stopping. [<a href="https://github.com/planetarium/libplanet/pull/275">#275</a>]</li>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> didn't stop properly during
<code>Swarm&lt;T&gt;.PreloadAsync()</code>. [<a href="https://github.com/planetarium/libplanet/pull/275">#275</a>]</li>
<li>Fixed a bug where the oldest <code>TxNonce</code> of an address is not invalidated
when forking using <code>FileStore.ForkTxNonce()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/281">#281</a>]</li>
<li>Fixed a bug where <code>LiteDBStore.GetTxNonce()</code> method throws a
<code>System.IO.IOException</code> after forking.  [<a href="https://github.com/planetarium/libplanet/pull/281">#281</a>]</li>
<li>Fixed a bug that <code>TurnClient</code> had not stopped properly.  [<a href="https://github.com/planetarium/libplanet/pull/287">#287</a>]</li>
<li>Fixed a bug that <code>TurnClient</code> had been trying to use an already closed
connection. [<a href="https://github.com/planetarium/libplanet/issues/303">#303</a>, <a href="https://github.com/planetarium/libplanet/pull/308">#308</a>]</li>
<li>Fixed a bug that <code>KeyNotFoundException</code> had been thrown instead of
<code>ArgumentOutOfRangeException</code> when <code>Blockchain&lt;T&gt;[int]</code> called while the
index of a block that does not exist locally.  [<a href="https://github.com/planetarium/libplanet/issues/208">#208</a>, <a href="https://github.com/planetarium/libplanet/pull/317">#317</a>]</li>
<li>Fixed a bug that <code>Swarm&lt;T&gt;</code> had not dial to other peer after
<code>Swarm&lt;T&gt;.PreloadAsync()</code>.  [<a href="https://github.com/planetarium/libplanet/pull/311">#311</a>]</li>
<li>Fixed an issue where unknown exceptions occurred when <code>Swarm&lt;T&gt;</code> receiving
a message.  [<a href="https://github.com/planetarium/libplanet/pull/321">#321</a>, <a href="https://github.com/planetarium/libplanet/pull/327">#327</a>]</li>
</ul>
<h2 id="version-030">Version 0.3.0</h2>
<p>Released on May 31, 2019.</p>
<h3 id="backward-incompatible-interface-changes-4">Backward-incompatible interface changes</h3>
<ul>
<li>Added <code>IAction.Render(IActionContext, IAccountStateDelta)</code> method.
[<a href="https://github.com/planetarium/libplanet/issues/31">#31</a>, <a href="https://github.com/planetarium/libplanet/pull/212">#212</a>]</li>
<li>Added <code>IAction.Unrender(IActionContext, IAccountStateDelta)</code> method.
[<a href="https://github.com/planetarium/libplanet/issues/31">#31</a>, <a href="https://github.com/planetarium/libplanet/pull/212">#212</a>]</li>
<li><code>BlockChain&lt;T&gt;.Validate()</code> method became to receive
<code>IReadOnlyList&lt;Block&lt;&lt;T&gt;&gt;</code> instead of <code>IEnumerable&lt;Block&lt;T&gt;&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/205">#205</a>]</li>
<li><code>IBlockPolicy&lt;T&gt;.GetNextBlockDifficulty()</code> method became to receive
<code>IReadOnlyList&lt;Block&lt;&lt;T&gt;&gt;</code> instead of <code>IEnumerable&lt;Block&lt;T&gt;&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/205">#205</a>]</li>
<li>Added
<code>IBlockPolicy&lt;T&gt;.ValidateNextBlock(IReadOnlyList&lt;Block&lt;T&gt;&gt;, Block&lt;T&gt;)</code>
method.  [<a href="https://github.com/planetarium/libplanet/pull/210">#210</a>]</li>
<li>Removed <code>IBlockPolicy&lt;T&gt;.ValidateBlocks()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/210">#210</a>]</li>
<li><code>BlockChain&lt;T&gt;[int]</code> became to throw <code>ArgumentOutOfRangeException</code> instead
of <code>IndexOutOfRangeException</code>.  [<a href="https://github.com/planetarium/libplanet/pull/210">#210</a>]</li>
<li>Removed <code>KeyEquals()</code> methods from all classes and structs.  [<a href="https://github.com/planetarium/libplanet/pull/216">#216</a>]</li>
<li><code>Swarm</code> class now does not implement <code>IEquatable&lt;Swarm&gt;</code> anymore and
its <code>Equals(object)</code> method and <code>GetHashCode()</code> method became to have
default behavior of <code>object</code> class.  [<a href="https://github.com/planetarium/libplanet/pull/216">#216</a>]</li>
<li>Also, <code>Swarm</code> class now does not implement <code>IDisposable</code> too. Thus
<code>Swarm.Dispose()</code> was removed too. [<a href="https://github.com/planetarium/libplanet/pull/218">#218</a>]</li>
<li><code>Swarm</code> became to use a queue to maintain internal messages.  [<a href="https://github.com/planetarium/libplanet/pull/218">#218</a>]
<ul>
<li>The broadcasting methods are no more <code>async</code>, so they are renamed
as below.
<ul>
<li><code>Swarm.BroadcastBlocksAsync()</code> → <code>Swarm.BroadcastBlocks()</code></li>
<li><code>Swarm.BroadcastTxsAsync()</code> → <code>Swarm.BroadcastTxs()</code></li>
</ul>
</li>
</ul>
</li>
<li>The type of <code>Block&lt;T&gt;.Difficulty</code> is changed to <code>long</code> instead of <code>int</code>, and
related classes method parameters and field types have changed accordingly.</li>
<li>Removed <code>HashDigest.HasLeadingZeroBits()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/213">#213</a>]</li>
<li>The signature of <code>IStore.PutBlock&lt;T&gt;(Block&lt;T&gt;)</code> method was changed to
<code>PutBlock&lt;T&gt;(Block&lt;T&gt;, Address)</code>.  [<a href="https://github.com/planetarium/libplanet/issues/189">#189</a>, <a href="https://github.com/planetarium/libplanet/pull/197">#197</a>]</li>
<li><code>Block&lt;T&gt;.Hash</code> is no longer calculated using the full data of the
<code>Transaction&lt;T&gt;</code>, but is calculated using only the <code>Transaction&lt;T&gt;.Id</code>.
[<a href="https://github.com/planetarium/libplanet/pull/234">#234</a>]</li>
<li>Added <code>IStore.LookupStateReference&lt;T&gt;(string, Address, Block&lt;T&gt;)</code> method.
[<a href="https://github.com/planetarium/libplanet/pull/232">#232</a>]</li>
<li>Added <code>IStore.StoreStateReference&lt;T&gt;(string, Block&lt;T&gt;)</code> method.
[<a href="https://github.com/planetarium/libplanet/pull/232">#232</a>]</li>
<li>Added <code>IStore.ForkStateReferences&lt;T&gt;(string, string, Block&lt;T&gt;, IImmutableSet&lt;Address&gt;</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/232">#232</a>]</li>
<li>Removed <code>Block&lt;T&gt;.Validate()</code> and <code>Block&lt;T&gt;.EvaluateActions()</code> method.
[<a href="https://github.com/planetarium/libplanet/pull/243">#243</a>]</li>
<li>Added <code>Transaction&lt;T&gt;.Nonce</code> and <code>RawTransaction.Nonce</code> properties.
[<a href="https://github.com/planetarium/libplanet/pull/246">#246</a>]</li>
<li>Added <code>IStore.GetTxNonce(string, Address)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/246">#246</a>]</li>
<li>Added <code>IStore.IncreaseTxNonce&lt;T&gt;(string, Block&lt;T&gt;)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/246">#246</a>]</li>
<li>Added <code>IStore.ForkTxNonce&lt;T&gt;(string, string, Block&lt;T&gt;, IImmutableSet&lt;Address&gt;</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/246">#246</a>]</li>
</ul>
<h3 id="added-interfaces-4">Added interfaces</h3>
<ul>
<li><code>BlockChain&lt;T&gt;</code> became to implement <code>IReadOnlyList&lt;Block&lt;T&gt;&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/205">#205</a>]</li>
<li>Added <code>Swarm.DifferentVersionPeerEncountered</code> event handler that can handle
events when a different version of a peer is discovered.  [<a href="https://github.com/planetarium/libplanet/issues/167">#167</a>], [<a href="https://github.com/planetarium/libplanet/pull/185">#185</a>]</li>
<li>Added <code>Peer.AppProtocolVersion</code> property.  [<a href="https://github.com/planetarium/libplanet/pull/185">#185</a>]</li>
<li>Added <code>Swarm.PreloadAsync()</code> method to explicitly and preemptively download
initial blocks before <code>Swarm.StartAsync&lt;T&gt;()</code> being called.
[<a href="https://github.com/planetarium/libplanet/issues/204">#204</a>], [<a href="https://github.com/planetarium/libplanet/pull/206">#206</a>]</li>
<li>Added <code>BlockDownloadState</code> class to represent a block downloading state.
[<a href="https://github.com/planetarium/libplanet/issues/204">#204</a>], [<a href="https://github.com/planetarium/libplanet/pull/206">#206</a>]</li>
<li>Added <code>BlockPolicyExtension.ValidateBlocks&lt;T&gt;(IBlockPolicy&lt;T&gt;, IReadOnlyList&lt;Block&lt;T&gt;&gt;, DateTimeOffset)</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/210">#210</a>]</li>
<li>Added <code>Transaction&lt;T&gt;.EvaluateActionsGradually(HashDigest&lt;SHA256&gt;, long, IAccountStateDelta, Address, bool)</code> method.  [<a href="https://github.com/planetarium/libplanet/issues/31">#31</a>, <a href="https://github.com/planetarium/libplanet/pull/212">#212</a>]</li>
<li>Added <code>Block&lt;T&gt;.EvaluateActionsPerTx(AccountStateGetter)</code> method.
[<a href="https://github.com/planetarium/libplanet/issues/31">#31</a>, <a href="https://github.com/planetarium/libplanet/pull/212">#212</a>]</li>
<li>Added <code>HashDigest.Satisfies()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/213">#213</a>]</li>
<li><code>BlockPolicy&lt;T&gt;</code> constructor became to receive the <code>minimumDifficulty</code>
and the mining <code>difficultyBoundDivisor</code>.  [<a href="https://github.com/planetarium/libplanet/pull/213">#213</a>]</li>
<li>Added <code>BlockChain&lt;T&gt;.UnstageTransactions()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/223">#223</a>]</li>
<li><code>Swarm</code> constructor became to receive a <code>linger</code> (or <code>millisecondsLinger</code>)
parameter.  This purposes to determine how long to wait for pending
messages when a <code>Swarm</code> instance is requested to terminate.</li>
<li>Added <code>NamespaceNotFoundException</code> class.  [<a href="https://github.com/planetarium/libplanet/pull/232">#232</a>]</li>
<li>Added <code>Block&lt;T&gt;.Evaluate()</code> method.  [<a href="https://github.com/planetarium/libplanet/pull/243">#243</a>]</li>
<li>Made <code>InvalidBlockTimestampException</code> class <code>public</code> so that it can be
caught. [<a href="https://github.com/planetarium/libplanet/issues/133">#133</a>, <a href="https://github.com/planetarium/libplanet/pull/251">#251</a>]</li>
<li>Added <code>InvalidTxNonceException</code> class.  [<a href="https://github.com/planetarium/libplanet/pull/246">#246</a>]</li>
</ul>
<h3 id="behavioral-changes-5">Behavioral changes</h3>
<ul>
<li><code>Swarm.StartAsync()</code> now receives the height of blocks (tip <code>Index</code>) from
other known peers and synchronizes the blocks if necessary
before propagating/receiving pinpointed recent blocks to prevent inefficient
round-trips.  [<a href="https://github.com/planetarium/libplanet/issues/187">#187</a>, <a href="https://github.com/planetarium/libplanet/pull/190">#190</a>]</li>
<li>The calculation algorithm of <code>BlockPolicy&lt;T&gt;.GetNextBlockDifficulty()</code>
method was changed to the <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2.md">Ethereum Homestead algorithm</a> except for the
difficulty bomb.  [<a href="https://github.com/planetarium/libplanet/pull/213">#213</a>]</li>
<li>The difficulty was changed from representing the number of leading zeros of
target number to representing a divisor to obtain the target number.
[<a href="https://github.com/planetarium/libplanet/pull/213">#213</a>]</li>
<li><code>BlockSet&lt;T&gt;[int]</code> changed so as not to validate a block.  [<a href="https://github.com/planetarium/libplanet/pull/231">#231</a>]</li>
<li>Improved read performance of <code>Block&lt;T&gt;.Hash</code> and <code>Transaction&lt;T&gt;.Id</code>.
[<a href="https://github.com/planetarium/libplanet/issues/228">#228</a>, <a href="https://github.com/planetarium/libplanet/pull/234">#234</a>]</li>
<li><code>Swarm.StartAsync()</code> now does not call <code>Swarm.StopAsync()</code> anymore,
therefore <code>Swarm.StopAsync()</code> should be explicitly called.  [<a href="https://github.com/planetarium/libplanet/pull/236">#236</a>]</li>
<li><code>Transaction&lt;T&gt;.EvaluateActionsGradually()</code> became to record
<code>IAccountStateDelta.SetState()</code> calls even if its argument is the same
to the previous state. [<a href="https://github.com/planetarium/libplanet/pull/241">#241</a>]</li>
<li><code>Block&lt;T&gt;.Validate()</code> and <code>Block&lt;T&gt;.EvaluateActions()</code> are integrated into
<code>Block&lt;T&gt;.Evaluate()</code>.  [<a href="https://github.com/planetarium/libplanet/pull/243">#243</a>]</li>
<li><code>BlockChain&lt;T&gt;.Append()</code> became to execute <code>Action.Execute()</code> only once per
action in the <code>Block&lt;T&gt;</code>.  [<a href="https://github.com/planetarium/libplanet/pull/243">#243</a>]</li>
<li><code>BlockChain&lt;T&gt;.Append()</code> method became to throw <code>InvalidTxNonceException</code>
when the <code>Transaction&lt;T&gt;.Nonce</code> does not correspond to its <code>Signer</code>'s
current nonce.  [<a href="https://github.com/planetarium/libplanet/pull/246">#246</a>]</li>
<li><code>Swarm</code> became to enforce <code>ForceDotNet.Force()</code> in <a href="https://github.com/somdoron/AsyncIO">AsyncIO</a> while
it's running on Mono runtime.  [<a href="https://github.com/planetarium/libplanet/pull/247">#247</a>]</li>
</ul>
<h3 id="bug-fixes-9">Bug fixes</h3>
<ul>
<li>Fixed a bug that TURN relay had been disconnected when being connected for
longer than 5 minutes.  [<a href="https://github.com/planetarium/libplanet/pull/198">#198</a>]</li>
<li>Fixed a bug that <code>Swarm</code> had attempted to use TURN relay even if the <code>host</code>
argument was given.  [<a href="https://github.com/planetarium/libplanet/pull/198">#198</a>]</li>
<li>Improved the read throughput of <code>BlockChain&lt;T&gt;.Append()</code>.</li>
<li>Improved overall read throughput of <code>BlockChain&lt;T&gt;</code> while blocks are being
mined by <code>BlockChain&lt;T&gt;.MineBlock()</code>.  [<a href="https://github.com/planetarium/libplanet/pull/191">#191</a>]</li>
<li>Fixed a bug that <code>TurnClientException</code> had been thrown by Swarm when a STUN
nonce is stale.  [<a href="https://github.com/planetarium/libplanet/pull/193">#193</a>]</li>
<li>Fixed <code>BlockChain&lt;T&gt;.GetStates()</code> had descended to the bottom
(i.e., the genesis block) where a given <code>Address</code> refers to
a nonexistent account (i.e., never used before).  [<a href="https://github.com/planetarium/libplanet/issues/189">#189</a>, <a href="https://github.com/planetarium/libplanet/pull/192">#192</a>]</li>
<li>Fixed a bug that a TURN connection had turned unavailable after
it once failed to parse a message (due to a corrupted packet).
[<a href="https://github.com/planetarium/libplanet/pull/215">#215</a>]</li>
<li>Instead of validating the entire blocks, <code>BlockChain&lt;T&gt;.Append()</code> method
became to validate only the next block to be appended.  [<a href="https://github.com/planetarium/libplanet/pull/210">#210</a>]</li>
<li>Improved <code>BlockChain&lt;T&gt;.Fork()</code> performance by avoiding double validation
of already validated blocks.  [<a href="https://github.com/planetarium/libplanet/pull/215">#215</a>]</li>
<li>Removed unnecessary writer locks on <code>BlockChain&lt;T&gt;.StageTransactions()</code>.
[<a href="https://github.com/planetarium/libplanet/pull/217">#217</a>]</li>
<li>Improved concurrency of <code>BlockChain&lt;T&gt;.Append()</code> method by removing
unnecessary race conditions. [<a href="https://github.com/planetarium/libplanet/pull/217">#217</a>]</li>
<li>Fixed a bug that <code>Swarm</code> could not properly communicate with <code>Peer</code> behind
NAT. [<a href="https://github.com/planetarium/libplanet/pull/240">#240</a>]</li>
<li>Fixed a bug that <code>BlockChain&lt;T&gt;.FindNextHashes()</code> throws
<code>ArgumentOutOfRangeException</code> when chain is empty.</li>
<li>Fixed a bug that <code>TurnClient.AcceptRelayedStreamAsync()</code>didn't handle
concurrent connections correctly. [<a href="https://github.com/planetarium/libplanet/pull/256">#256</a>]</li>
</ul>
<h2 id="version-022">Version 0.2.2</h2>
<p>Released on April 12, 2019.</p>
<ul>
<li>Fixed a bug that <code>BlockChain&lt;T&gt;.GetStates()</code> had returned slower than
necessary for many addresses.  [<a href="https://github.com/planetarium/libplanet/issues/189">#189</a>, <a href="https://github.com/planetarium/libplanet/pull/192">#192</a>]</li>
</ul>
<h2 id="version-021">Version 0.2.1</h2>
<p>Released on April 7, 2019.</p>
<p>This version purposes to entirely replace <em>0.2.0</em>, because a wrong <em>.nupkg</em>
file was uploaded to <em>0.2.0</em> on NuGet Gallery.  Note that <em>0.2.0</em> on NuGet
Gallery was unlisted.</p>
<h2 id="version-020">Version 0.2.0</h2>
<p>Released on April 5, 2019.</p>
<ul>
<li><p><code>PrivateKey.Decrypt()</code> now throws an <code>InvalidCiphertextException</code>
instead of returning <code>null</code> when <code>cipherText</code> is invalid.  [<a href="https://github.com/planetarium/libplanet/pull/140">#140</a>]</p>
</li>
<li><p><code>Transaction&lt;T&gt;</code>'s <code>Sender</code>–<code>Recipient</code> model was replaced by
<code>Signer</code>–<code>UpdatedAddresses</code> model.   Unlike cryptocurrencies,
transactions in games are not necessarily a transfer of assets,
so it is difficult to determine what type of assert is transferred
or who will receives the asset.  A more useful perspective is,
like what kind of transformation is performed, or what states
are changed.  To be close to this perspective, we decided to
get rid of <code>Transaction&lt;T&gt;.Recipient</code> (which is singular) and
have <code>Transaction&lt;T&gt;.UpdatedAddresses</code> (which is plural) instead.
As there is no more asset to transfer, the term <code>Sender</code> was also
renamed to <code>Signer</code>, which fits more to the new perspective.
[<a href="https://github.com/planetarium/libplanet/pull/121">#121</a>]</p>
<ul>
<li>Renamed <code>Transaction&lt;T&gt;.Sender</code>, <code>RawTransaction.Signer</code>, and
<code>IActionContext.From</code> properties to <code>Signer</code>.
The corresponding parameter names on constructors and
methods were also renamed too.</li>
<li>Old <code>Transaction&lt;T&gt;.Make()</code> factory method is replaced by
new <code>Transaction&lt;T&gt;.Create()</code> factory method.  The <code>timestamp</code> parameter
became optional, and the new optional <code>updatedAddresses</code> parameter was
added.</li>
<li>Removed <code>IActionContext.To</code> property.</li>
<li><code>Transaction&lt;T&gt;.Recipient</code> and <code>RawTransaction.Recipient</code> properties
were replaced by <code>Transaction&lt;T&gt;.UpdatedAddresses</code> and
<code>RawTransaction.UpdatedAddresses</code> properties.
The corresponding parameter names on constructors and methods were
replaced too.</li>
<li>Since the schema of <code>RawTransaction</code> class was changed,
the serialization format of transactions and blocks were also changed.
It affects to the way to generate <code>Transaction&lt;T&gt;.Signature</code>,
<code>Transaction&lt;T&gt;.Id</code>, and <code>Block.Hash</code> values as well.</li>
<li>Added <code>InvalidTxUpdatedAddressesException</code> exception class.</li>
<li>A nullary overload of <code>Block&lt;T&gt;.Validate()</code> method was gone
so that the block validation API is always time-wise.
Instead, <code>Block&lt;T&gt;.Validate()</code> method now has only one overload:
<code>Validate(DateTimeOffset, AccountStateGetter)</code> returning
<code>IAccountStateDelta</code>.</li>
<li><code>Block&lt;T&gt;.Validate()</code> and <code>BlockChain&lt;T&gt;.Validate()</code> methods now can
throw an <code>InvalidTxUpdateAddressesException</code>.</li>
</ul>
</li>
<li><p>The <code>Address</code>es <code>IAction</code> tries to update no more need to be manually
coded using <code>IAction.RequestStates()</code> method.  That method was
removed at all, and updated <code>Address</code>es became automatically determined
(for the most cases) by track &quot;dirties&quot; on <dfn>rehearsal mode<dfn>.
This mode dry-runs <code>IAction</code>s with empty <code>IActionContext.PreviousStates</code>.
[<a href="https://github.com/planetarium/libplanet/pull/121">#121</a>]<p>
<ul>
<li>Added <code>AccountStateGetter</code> delegate to provide a read-only view to
account states.</li>
<li>Added <code>IAccountStateDelta</code> interface to replace <code>AddressStateMap</code>.
The interface purposes to provide a read-write view to account states
with maintaining <code>UpdatedAddresses</code> (so-called &quot;dirty&quot;).
[<a href="https://github.com/planetarium/libplanet/issues/98">#98</a>]</li>
<li>The type of <code>IActionContext.PreviousStates</code> property was changed from
<code>AddressStateMap</code> to <code>IAccountStateDelta</code>.</li>
<li>Added <code>IActionContext.Rehearsal</code> property.  [<a href="https://github.com/planetarium/libplanet/issues/131">#131</a>, <a href="https://github.com/planetarium/libplanet/pull/135">#135</a>]</li>
<li>Added <code>UnexpectedlyTerminatedTxRehearsalException</code> class.
[<a href="https://github.com/planetarium/libplanet/issues/132">#132</a>, <a href="https://github.com/planetarium/libplanet/pull/136">#136</a>]</li>
<li>The return type of <code>IAction.Execute()</code> method was changed from
<code>AddressStateMap</code> to <code>IAccountStateDelta</code>.</li>
<li>Removed <code>IAction.RequestStates()</code> method because there is no need for it
and thus it is not used anymore.</li>
<li>Added <code>Transaction&lt;T&gt;.EvaluateActions()</code> method.</li>
<li>Added <code>Block&lt;T&gt;.EvaluateActions()</code> generator method.</li>
</ul>
</dfn></dfn></li>
<li><p>The built-in subtype polymorphism of <code>IAction</code> and <code>Transaction&lt;T&gt;</code> was
moved to a separated new <code>PolymorphicAction&lt;T&gt;</code> abstract class.
Polymorphic actions now should be wrapped by <code>PolymorphicAction&lt;T&gt;</code>.
For example, the following code:</p>
<pre><code class="lang-csharp">public abstract class AbstractAction : IAction { ... }

[ActionType(&quot;attack&quot;)]
public sealed class Attack : AbstractAction { ... }

[ActionType(&quot;sleep&quot;)]
public sealed class Sleep : AbstractAction { ... }
</code></pre>
<pre><code class="lang-csharp">var tx = Transaction&lt;AbstractAction&gt;.Create(
    ...,
    actions: new[] { new Attack(...), ... }
);
</code></pre>
<p>should be changed to like:</p>
<pre><code class="lang-csharp">var tx = Transaction&lt;PolymorphicAction&lt;AbstractAction&gt;&gt;.Create(
    ...,
    actions: new[] {
        new PolymorphicAction&lt;AbstractAction&gt;(new Attack(...)),
        ...
    }
);
</code></pre>
<p>It can be simpler by implicit casting:</p>
<pre><code class="lang-csharp">var tx = Transaction&lt;PolymorphicAction&lt;AbstractAction&gt;&gt;.Create(
    ...,
    actions: new PolymorphicAction&lt;AbstractAction&gt;[] { new Attack(...), }
);
</code></pre>
<p>[<a href="https://github.com/planetarium/libplanet/pull/169">#169</a>]</p>
<ul>
<li>The type parameter <code>T</code> of <code>Transaction&lt;T&gt;</code>, <code>Block&lt;T&gt;</code>, and
<code>BlockChain&lt;T&gt;</code> became to require having a <code>public</code> parameterless
constructor (i.e., <code>new()</code>) besides implementing <code>IAction</code> interface.
This means an <code>abstract class</code> or an <code>interface</code> no more can be passed
to <code>T</code>, but only a concrete <code>class</code> or a <code>struct</code> can be passed.</li>
</ul>
</li>
<li><p>Fixed a bug that mutating a collection of <code>IAction</code>s passed to
constructors or factory methods of <code>Transaction&lt;T&gt;</code> had affected
made instances as well.
The type of <code>Transaction&lt;T&gt;.Actions</code> property was changed from
<code>IList&lt;T&gt;</code> to <code>IImmutableList&lt;T&gt;</code>.  The corresponding parameters on
constructors and factory methods also were changed to take
<code>IEnumerable&lt;T&gt;</code> instead of <code>IList&lt;T&gt;</code>.</p>
</li>
<li><p><code>Address</code> and <code>TxId</code> are now serializable.
[<a href="https://github.com/planetarium/libplanet/issues/99">#99</a>, <a href="https://github.com/planetarium/libplanet/pull/124">#124</a> by Qria]</p>
</li>
<li><p><code>InvalidTxException</code> and its subclasses became to have <code>TxId</code> property
and the corresponding constructor parameter.  This can be useful when
multiple <code>Transaction&lt;T&gt;</code> objects are validated at once.</p>
</li>
<li><p>Added <code>Address.Size</code> constant, which is fixed to the <code>Int32</code> 20.</p>
</li>
<li><p>Fixed a bug that <code>Block&lt;T&gt;.Validate()</code> had not thrown <code>InvalidTxException</code>
even if there is any integrity error on its <code>Transactions</code>.</p>
</li>
<li><p>Improved the write throughput of <code>BlockChain&lt;T&gt;</code> while polling
<code>BlockChain&lt;T&gt;.GetStates()</code></p>
</li>
<li><p><code>Swarm.AddPeersAsync()</code> was fixed so that unreachable <code>Peer</code>s are ignored.
[<a href="https://github.com/planetarium/libplanet/pull/128">#128</a>]</p>
</li>
<li><p><code>Swarm</code> became able to relay their connection via TURN (<a href="https://tools.ietf.org/html/rfc5766">RFC 5766</a>)
to NAT traversal. To enable this, its constructor (<code>Swarm()</code>) takes the
newly added <code>IceServer</code>s as configuration.</p>
</li>
<li><p>Since we decided to depend on TURN (<a href="https://tools.ietf.org/html/rfc5766">RFC 5766</a>) and STUN (<a href="https://tools.ietf.org/html/rfc5389">RFC 5389</a>) to
work around NAT so that <code>Peer</code>'s endpoints don't have to be multiple,
<code>Peer.Urls</code> was renamed to <code>Peer.EndPoint</code> and its type also was changed
from <code>IImmutableList&lt;Uri&gt;</code> to <code>DnsEndPoint</code>.
[<a href="https://github.com/planetarium/libplanet/issues/120">#120</a>, <a href="https://github.com/planetarium/libplanet/pull/123">#123</a> by Yang Chun Ung, <a href="https://github.com/planetarium/libplanet/issues/126">#126</a>, <a href="https://github.com/planetarium/libplanet/pull/127">#127</a>, <a href="https://github.com/planetarium/libplanet/issues/165">#165</a>, <a href="https://github.com/planetarium/libplanet/pull/166">#166</a>]</p>
</li>
<li><p><code>Swarm</code> became to ignore tip blocks of the same height (<code>Index</code>) that it
already has and deal with only longer (higher) blocks.</p>
</li>
<li><p>Fixed a bug that occurred when <code>Swarm</code> was handling multiple responses at the
same time.</p>
</li>
<li><p>Fixed a bug that the <code>Swarm</code> constructor had hanged in certain runtimes
like Unity engine.</p>
</li>
<li><p>Removed <code>AddressTransactionSet</code> which handles handle <code>Address</code> to
<code>IEnumerable&lt;TxId&gt;</code> indices, and the following methods in <code>IStore</code>:</p>
<ul>
<li><code>IStore.IterateAddresses()</code></li>
<li><code>IStore.GetAddressTransactionIds()</code></li>
<li><code>IStore.AppendAddressTransactionId()</code></li>
<li><code>IStore.CountAddresses()</code></li>
</ul>
</li>
<li><p>Added <code>IStore.ListNamespaces()</code> method.</p>
</li>
<li><p><code>IStore.CountBlocks()</code> and <code>IStore.CountTransactions()</code> became to return
<code>long</code>.</p>
</li>
<li><p>Block/tx-related methods in <code>IStore</code> and <code>BaseIndex&lt;T&gt;</code> no longer
accepts <code>@namespace</code> parameter.  It means that even if a forking occurs, the
same block/tx files are shared.</p>
</li>
<li><p>Fixed a bug that made unnecessary fork when receiving blocks from other
peer.</p>
</li>
<li><p>Action classes that implement <code>IAction</code> but lack <code>ActionTypeAttribute</code>
became reported by <code>PolymorphicAction&lt;T&gt;</code> throwing
<code>MissingActionTypeException</code> at runtime.  [<a href="https://github.com/planetarium/libplanet/issues/28">#28</a>, <a href="https://github.com/planetarium/libplanet/pull/144">#144</a>, <a href="https://github.com/planetarium/libplanet/pull/169">#169</a>]</p>
</li>
<li><p>Turn into parameter in <code>BlockPolicy</code>'s constructor to milliseconds. [<a href="https://github.com/planetarium/libplanet/pull/151">#151</a>]</p>
</li>
<li><p><code>BencodexFormatter</code> became able to serialize <code>BigInteger</code>.  [<a href="https://github.com/planetarium/libplanet/pull/159">#159</a>]</p>
</li>
<li><p>Made <code>Swarm</code> possible to configure its network <code>appProtocolVersion</code> and,
to ignore peers if their version is different.  [<a href="https://github.com/planetarium/libplanet/issues/167">#167</a>], [<a href="https://github.com/planetarium/libplanet/pull/170">#170</a>]</p>
</li>
<li><p>Added <code>IActionContext.Miner</code> property.  [<a href="https://github.com/planetarium/libplanet/issues/173">#173</a>], [<a href="https://github.com/planetarium/libplanet/pull/174">#174</a>]</p>
</li>
<li><p>Renamed <code>Block&lt;T&gt;.RewardBeneficiary</code> to <code>Block&lt;T&gt;.Miner</code>.  [<a href="https://github.com/planetarium/libplanet/pull/174">#174</a>]</p>
</li>
<li><p>Added <code>BlockChain&lt;T&gt;.Blocks</code> property.  [<a href="https://github.com/planetarium/libplanet/pull/176">#176</a>]</p>
</li>
<li><p>Added <code>BlockChain&lt;T&gt;.Transactions</code> property.  [<a href="https://github.com/planetarium/libplanet/pull/176">#176</a>]</p>
</li>
</ul>
<h2 id="version-011">Version 0.1.1</h2>
<p>Released on March 5, 2019.</p>
<ul>
<li>Improved stability of <code>Swarm</code> and <code>SwarmTest</code>.</li>
</ul>
<h2 id="version-010">Version 0.1.0</h2>
<p>Initial release.  Released on February 26, 2019.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/dahlia/libplanet/blob/c0ab19ed25d4a40f6e6638b61001d6a45be6f0b9/CHANGES.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright © 2019 <a href="https://planetariumhq.com/">Planetarium</a><br>Generated by DocFX
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
